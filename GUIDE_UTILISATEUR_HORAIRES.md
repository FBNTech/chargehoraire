# ğŸ“… Guide Utilisateur - Gestion des Horaires

## ğŸ¯ Une seule page pour tout gÃ©rer !

DÃ©sormais, **tout se passe sur une seule page** :
```
http://127.0.0.1:8000/attribution/schedule/entry/list/
```

## ğŸš€ DÃ©marrage rapide

### 1ï¸âƒ£ AccÃ©der Ã  la page des horaires

**Option A** : Tapez directement l'URL
```
http://127.0.0.1:8000/attribution/schedule/entry/list/
```

**Option B** : Depuis le menu (si configurÃ©)
- Cliquez sur "Horaires" dans le menu principal

**Option C** : L'ancienne URL fonctionne toujours !
```
http://127.0.0.1:8000/attribution/schedule/
â†’ Redirige automatiquement vers la nouvelle page
```

## ğŸ“Š Interface de la page

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… Gestion des Horaires                                         â”‚
â”‚                    [â• Ajouter] [âš¡ Ajout rapide] [ğŸ“„ GÃ©nÃ©rer PDF]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Filtres                                                       â”‚
â”‚ [AnnÃ©e â–¼] [Jour â–¼] [CrÃ©neau â–¼] [Classe____] [ğŸ” Filtrer]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š Statistiques                                                  â”‚
â”‚ [Total: 19] [AnnÃ©e: 2025-26] [Cours: 19] [Salles: 5]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ Liste des horaires enregistrÃ©s                               â”‚
â”‚ [Tableau avec 19 horaires]                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ FonctionnalitÃ©s principales

### ğŸ” **Filtrer les horaires**

Pour trouver rapidement un horaire spÃ©cifique :

1. **SÃ©lectionnez vos critÃ¨res** :
   - AnnÃ©e acadÃ©mique (ex: 2025-2026)
   - Jour (Lundi, Mardi, etc.)
   - CrÃ©neau (08h00-12h00 ou 13h00-17h00)
   - Classe (ex: L1BC)

2. **Cliquez sur "Filtrer"**

3. Le tableau se met Ã  jour instantanÃ©ment

**Astuce** : Laissez un champ vide pour ne pas filtrer sur ce critÃ¨re

---

### â• **Ajouter un horaire (mÃ©thode complÃ¨te)**

Pour ajouter un horaire avec tous les dÃ©tails :

1. **Cliquez sur le bouton "â• Ajouter un horaire"** (en haut Ã  droite)

2. **Remplissez le formulaire** :
   - ğŸ“š **Cours (UE + Enseignant)** : SÃ©lectionnez dans la liste
   - ğŸ“† **AnnÃ©e acadÃ©mique** : ex: 2025-2026
   - ğŸ“… **Semaine (date de dÃ©but)** : ex: 21/10/2025
   - ğŸ“† **Jour** : Lundi, Mardi, etc.
   - â° **CrÃ©neau** : AM (08h00-12h00) ou PM (13h00-17h00)
   - ğŸ¢ **Salle** : ex: B1 (optionnel)
   - ğŸ“ **Remarques** : Notes optionnelles

3. **Cliquez sur "CrÃ©er"**

4. âœ… Message de confirmation + retour Ã  la liste

**Quand utiliser ?**
- PremiÃ¨re saisie d'un horaire
- Besoin d'ajouter des remarques dÃ©taillÃ©es
- VÃ©rification visuelle avant enregistrement

---

### âš¡ **Ajout rapide** (RECOMMANDÃ‰)

Pour ajouter rapidement un horaire sans quitter la page :

1. **Cliquez sur "âš¡ Ajout rapide"** (en haut Ã  droite)

2. Une **fenÃªtre pop-up** s'ouvre

3. **Remplissez les champs** :
   - Cours (la liste se charge automatiquement)
   - Date (le jour se calcule automatiquement)
   - CrÃ©neau
   - Salle (optionnel)
   - Remarques (optionnel)

4. **Cliquez sur "Enregistrer"**

5. âœ… Horaire ajoutÃ© instantanÃ©ment + la fenÃªtre se ferme

**Avantages** :
- âœ¨ Ultra rapide (5 secondes)
- ğŸ“Œ Pas de changement de page
- ğŸ¯ Focus sur l'essentiel
- ğŸ”„ Ajoutez plusieurs horaires d'affilÃ©e

**Quand utiliser ?**
- Ajout de plusieurs horaires consÃ©cutifs
- Modifications rapides en cours de semaine
- Workflow quotidien

---

### âœï¸ **Modifier un horaire**

1. **Trouvez la ligne** de l'horaire Ã  modifier (utilisez les filtres si besoin)

2. **Cliquez sur l'icÃ´ne âœï¸** dans la colonne "Actions"

3. Le formulaire de modification s'ouvre avec les donnÃ©es actuelles

4. **Modifiez les champs** nÃ©cessaires

5. **Cliquez sur "Modifier"**

6. âœ… Horaire mis Ã  jour + retour Ã  la liste

**Info** : Vous voyez un rÃ©capitulatif des informations du cours en bas du formulaire

---

### ğŸ—‘ï¸ **Supprimer un horaire**

1. **Trouvez la ligne** de l'horaire Ã  supprimer

2. **Cliquez sur l'icÃ´ne ğŸ—‘ï¸** dans la colonne "Actions"

3. **Confirmez** la suppression dans la boÃ®te de dialogue

4. âœ… Horaire supprimÃ© + la page se rafraÃ®chit

**âš ï¸ Attention** : Cette action est irrÃ©versible !

---

### ğŸ“„ **GÃ©nÃ©rer un PDF d'horaires**

Pour crÃ©er un emploi du temps imprimable :

1. **Appliquez les filtres** souhaitÃ©s (optionnel)
   - Ex: AnnÃ©e 2025-2026, Classe L1BC

2. **Cliquez sur "ğŸ“„ GÃ©nÃ©rer PDF"**

3. Le **PDF s'ouvre dans un nouvel onglet** avec :
   - Horaires regroupÃ©s par niveau acadÃ©mique (L1, L2, L3, M1, M2)
   - Jours en lignes (Lundi Ã  Samedi)
   - Options de classe en colonnes (L1BC, L1CST, etc.)
   - 2 crÃ©neaux par jour (AM et PM)
   - Code UE, IntitulÃ©, Grade et Nom de l'enseignant

4. **Imprimez ou tÃ©lÃ©chargez** le PDF

**Format du PDF** :
```
SECTION DES SCIENCES & TECHNOLOGIES
Horaires des Cours - Niveau L1 : semaine du 21/10/2025

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ Jour    â”‚ Heures    â”‚ L1BC â”‚ L1MI â”‚ L1CSTâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ Lundi   â”‚08h00-12h00â”‚CHI191â”‚MAT103â”‚CHI291â”‚
â”‚         â”‚           â”‚(...)  â”‚(...)  â”‚(...) â”‚
â”‚         â”‚           â”‚Dr XX â”‚Pr YY â”‚Dr ZZ â”‚
â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚13h00-17h00â”‚      â”‚      â”‚      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ Mardi   â”‚...        â”‚...   â”‚...   â”‚...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Astuces et bonnes pratiques

### âš¡ Workflow recommandÃ© pour la saisie hebdomadaire

1. **Lundi matin** : Planifiez la semaine
   - Utilisez "âš¡ Ajout rapide" pour tous les cours de la semaine
   - Remplissez cours par cours, jour par jour

2. **En cours de semaine** : Ajustez si nÃ©cessaire
   - Modifiez (âœï¸) si changement de salle
   - Supprimez (ğŸ—‘ï¸) si cours annulÃ©

3. **Vendredi** : GÃ©nÃ©rez le PDF
   - Appliquez les filtres pour la semaine en cours
   - GÃ©nÃ©rez et distribuez l'emploi du temps

### ğŸ” Recherche efficace

**Pour trouver un cours spÃ©cifique** :
```
Filtres : Classe = "L1BC" + Jour = "Lundi" + CrÃ©neau = "AM"
â†’ Affiche uniquement les cours L1BC du lundi matin
```

**Pour voir tous les horaires d'un enseignant** :
- Malheureusement, pas de filtre enseignant pour l'instant
- Solution : GÃ©nÃ©rez le PDF et utilisez Ctrl+F

**Pour voir une semaine complÃ¨te** :
- Filtrez par annÃ©e acadÃ©mique
- Ne mettez pas de filtre jour/crÃ©neau
- Regardez le tableau complet

### ğŸ“Š Utilisation des statistiques

Les 4 cartes en haut donnent un aperÃ§u rapide :

- **Total horaires** : Nombre d'horaires enregistrÃ©s (avec filtres appliquÃ©s)
- **AnnÃ©e active** : L'annÃ©e acadÃ©mique la plus rÃ©cente
- **Cours planifiÃ©s** : MÃªme chose que "Total horaires"
- **Salles utilisÃ©es** : Nombre de salles diffÃ©rentes

### âš ï¸ Ã‰viter les erreurs courantes

**Erreur 1** : "UNIQUE constraint failed"
- **Cause** : Vous essayez de crÃ©er un horaire qui existe dÃ©jÃ 
- **Solution** : VÃ©rifiez qu'il n'y a pas dÃ©jÃ  un horaire avec :
  - MÃªme cours + MÃªme annÃ©e + MÃªme semaine + MÃªme jour + MÃªme crÃ©neau
- **Astuce** : Utilisez les filtres pour vÃ©rifier avant d'ajouter

**Erreur 2** : Horaire invisible aprÃ¨s ajout
- **Cause** : Les filtres sont activÃ©s et masquent le nouvel horaire
- **Solution** : Cliquez sur "Filtrer" sans aucun filtre pour voir tout

**Erreur 3** : Le jour ne correspond pas Ã  la date
- **Cause** : Erreur dans le calcul automatique du jour
- **Solution** : L'ajout rapide calcule automatiquement le jour depuis la date

## ğŸ†˜ ProblÃ¨mes frÃ©quents

### ProblÃ¨me : La page est vide / Aucun horaire affichÃ©

**Solutions** :
1. VÃ©rifiez que vous Ãªtes bien sur `/attribution/schedule/entry/list/`
2. Enlevez tous les filtres (cliquez sur "Filtrer" sans sÃ©lection)
3. VÃ©rifiez qu'il y a des horaires : regardez "Total: X" en haut

### ProblÃ¨me : Impossible d'ajouter un horaire

**Solutions** :
1. VÃ©rifiez qu'il existe des **attributions** (cours + enseignants)
2. VÃ©rifiez que l'annÃ©e acadÃ©mique est correcte
3. Utilisez "Ajout rapide" au lieu du formulaire complet

### ProblÃ¨me : Le PDF ne se gÃ©nÃ¨re pas

**Solutions** :
1. VÃ©rifiez qu'il y a des horaires enregistrÃ©s
2. DÃ©sactivez les bloqueurs de pop-up
3. Essayez dans un autre navigateur

### ProblÃ¨me : "Aucun cours ajoutÃ©" dans le tableau

**Cause** : Vous Ãªtes sur l'ancienne page qui n'existe plus
**Solution** : Utilisez la nouvelle URL `/attribution/schedule/entry/list/`

## ğŸ“š Pour aller plus loin

### IntÃ©gration avec d'autres modules

- **Attributions** : Les horaires utilisent les attributions existantes
- **Enseignants** : Les grades et noms viennent de la table enseignants
- **Cours** : Codes UE et intitulÃ©s viennent de la table cours

### DonnÃ©es stockÃ©es

Chaque horaire enregistrÃ© contient :
- Attribution (= cours + enseignant + annÃ©e)
- Semaine de dÃ©but
- Jour (lundi Ã  samedi)
- CrÃ©neau (AM ou PM)
- Salle (optionnel)
- Remarques (optionnel)

### Limites actuelles

- **Pas de gestion multi-semaines** : Il faut crÃ©er un horaire par semaine
- **Pas de rÃ©currence** : Impossible de dire "tous les lundis"
- **Pas de filtre par enseignant** : Seulement par classe, jour, crÃ©neau

## ğŸ“ Formation

Pour former un nouvel utilisateur :

1. **Montrez la page unifiÃ©e** (5 min)
   - Expliquez les 4 boutons en haut
   - Montrez le tableau avec les horaires existants

2. **DÃ©monstration "Ajout rapide"** (5 min)
   - Ajoutez 2-3 horaires en direct
   - Montrez la rapiditÃ© du workflow

3. **Exercice pratique** (10 min)
   - Laissez-le ajouter des horaires pour une semaine
   - Supervisez et corrigez

4. **GÃ©nÃ©ration PDF** (5 min)
   - GÃ©nÃ©rez le PDF de ce qui vient d'Ãªtre crÃ©Ã©
   - Expliquez l'utilitÃ©

**DurÃ©e totale** : 25 minutes

---

## ğŸ“ Support

Pour toute question ou problÃ¨me :
1. Consultez ce guide
2. VÃ©rifiez la documentation technique (`HARMONISATION_HORAIRES.md`)
3. Contactez le support technique

---

**Version** : 1.0
**Date** : 23 octobre 2025
**Auteur** : Ã‰quipe dÃ©veloppement
